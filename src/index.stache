<html>
  <head>
    <title>{{title}}</title>
  </head>
  <body>
    <can-import from="bootstrap/less/bootstrap.less!" />
    <can-import from="dom-practice/styles.less!" />
    <can-import from="dom-practice/app" export-as="viewModel" />

    <div class="container">
      <div class="row">
        <div class="col-sm-8 col-sm-offset-2">
          {{#switch page}}

            {{#case 'chat'}}
              <can-import from="dom-practice/messages/">
                {{#if isPending}}
                  Loading...
                {{else}}
                  <chat-messages/>
                {{/if}}
              </can-import>
            {{/case}}
            
            {{#case 'viewdemo'}}
              <can-import from="dom-practice/demo_stache/">
                {{#if isPending}}
                  Loading...
                {{else}}
                  <demo-stache/>
                {{/if}}
              </can-import>
            {{/case}}

            {{#case 'viewdemo2'}}
              <can-import from="dom-practice/view_example/">
                {{#if isPending}}
                  Loading...
                {{else}}
                  <view-example/>
                {{/if}}
              </can-import>
            {{/case}}

            {{#default}}
              <can-import from="dom-practice/home.component!">
                {{#if isPending}}
                  Loading...
                {{else}}
                  <chat-home/>
                {{/if}}
              </can-import>
            {{/default}}

          {{/switch}}
          
        </div>
      </div>
    </div>

    {{#switch env.NODE_ENV}}
      {{#case "production"}}
        <script
          src="{{joinBase 'node_modules/steal/steal.production.js'}}"
          main="dom-practice/index.stache!done-autorender"
        >
        </script>
      {{/case}}
      {{#default}}
        <script src="/node_modules/steal/steal.js"></script>
      {{/default}}
    {{/switch}}
  </body>
</html>
